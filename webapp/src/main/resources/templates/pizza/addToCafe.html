<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header('Cafes Menu admin')">Header</head>
<body>

<nav th:replace="fragments/navbar :: navbar('cafes')"></nav>

<section class="ftco-section" th:style="'background-image: url(/images/bg_1.jpg)'">
    <div class="container">
        <div class="row justify-content-center flex-column align-content-center text-center mb-5 pb-3">
            <h2 class="balu-green">Edit cafes menu</h2>
        </div>

        <div th:style="'background-image: url(/images/bg_4.jpg)'">
<!--                List cafes pizzas-->
            <div class="row d-flex flex-column justify-content-center align-content-center pt-3 mt-3">
                <h3 class="mt-4 text-center" th:text="${cafe.title} + ': now in menu'"></h3>
                <div class="col-md-10 d-flex flex-wrap align-content-center justify-content-center py-5 px-1">


                    <div th:each="pizza: ${cafe.getSortedPizza()}" class="col-lg-3 d-flex mb-sm-4 ftco-animate">
                        <div class="staff balu-grid px-2 py-3">
                            <div class="img mb-4"
                                 th:style="${'background-image: url(/images/pizza/'+pizza.image}+')'">
                            </div>
                            <div class="info text-center">
                                <h3>
                                    <a th:text="${pizza.name}"></a>
                                </h3>
                                <span th:text="${pizza.getBase().getSize() + ' ' + pizza.getBase().name}"
                                      class="position"></span>
                            </div>
                            <div class="d-block flex-grow-1 text-center">
                                <a th:href="@{/pizza/del_from_menu/{cafe}/{pizza}(cafe=${cafe.id}, pizza=${pizza.id})}"
                                   th:text="'DELETE FROM MENU'"
                                   class="btn btn-primary d-block flex-grow-1">
                                </a>
                            </div>
                        </div>

                    </div>
                </div>


            </div>
<!--            List all pizzas-->
            <div class="row d-flex flex-column justify-content-center align-content-center mt-3">
                <h3 class="text-center" th:text="'Available pizzas'"></h3>
                <div class="col-md-10 d-flex flex-wrap align-content-center justify-content-center py-5 px-1">

                    <th:block th:each="pizza: ${pizzas}" >
                    <div th:unless="${#lists.contains(cafe.getSortedPizza(), pizza)}" class="col-lg-3 d-flex mb-sm-4 ftco-animate">
                        <div  class="staff balu-grid px-2 py-3">
                            <div class="img mb-4"
                                 th:style="${'background-image: url(/images/pizza/'+pizza.image}+')'">
                            </div>
                            <div class="info text-center">
                                <h3>
                                    <a th:text="${pizza.name}"></a>
                                </h3>
                                <span th:text="${pizza.getBase().getSize() + ' ' + pizza.getBase().name}"
                                      class="position"></span>

                            </div>
                            <div class="d-block flex-grow-1 text-center">
                                <a th:href="@{/pizza/add_to_menu/{cafe}/{pizza}(cafe=${cafe.id}, pizza=${pizza.id})}"
                                   th:text="'ADD TO MENU'"
                                   class="btn btn-primary d-block flex-grow-1">
                                </a>
                            </div>
                        </div>

                    </div>
                    </th:block>
                </div>


            </div>
            <div class="row d-flex flex-column justify-content-center text-center align-content-center mt-3">
                <div class="col-md-10 justify-content-center al my-4">
                    <a th:href="@{/menu}" class="mr-3 btn btn-white btn-outline-white">Menu</a>
                    <a th:href="@{/admin/add/ingredient}" class="mr-3 btn btn-white btn-outline-white">Add
                        ingredient</a>
                    <a th:href="@{/admin/add/base}" class="mr-3 btn btn-white btn-outline-white">Add base</a>
                </div>
            </div>
        </div>
    </div>


    </div>
</section>


<div th:replace="fragments/footer :: footer('sergiibugaienko@gmail.com')"></div>
<div th:replace="fragments/loader"></div>

</body>
</html>

